#include <iostream>
#include <vector>

#include "InterTool_SelTrackScatter/VPoint.h"
#include "InterTool_SelTrackScatter/VThinning.h"

#include "FlashMatchInterface/GeneralFlashMatchAlgo.h"

#include "TStopwatch.h"

int main() {
  std::vector<llcv::VPoint> res_v;

  int sz = 200*100*200;
  unsigned char* voxel = new unsigned char[sz];

  for(size_t i=0; i<sz; ++i)
    voxel[i] = (unsigned char)0;


  //
  voxel[316850]=(unsigned char)1;
  voxel[336650]=(unsigned char)1;
  voxel[336851]=(unsigned char)1;
  voxel[337050]=(unsigned char)1;
  voxel[337051]=(unsigned char)1;
  voxel[337052]=(unsigned char)1;
  voxel[337250]=(unsigned char)1;
  voxel[337252]=(unsigned char)1;
  voxel[337450]=(unsigned char)1;
  voxel[356250]=(unsigned char)1;
  voxel[356450]=(unsigned char)1;
  voxel[356650]=(unsigned char)1;
  voxel[356651]=(unsigned char)1;
  voxel[356850]=(unsigned char)1;
  voxel[357251]=(unsigned char)1;
  voxel[357450]=(unsigned char)1;
  voxel[357451]=(unsigned char)1;
  voxel[357452]=(unsigned char)1;
  voxel[357651]=(unsigned char)1;
  voxel[357850]=(unsigned char)1;
  voxel[376450]=(unsigned char)1;
  voxel[376451]=(unsigned char)1;
  voxel[377451]=(unsigned char)1;
  voxel[377452]=(unsigned char)1;
  voxel[396250]=(unsigned char)1;
  voxel[396450]=(unsigned char)1;
  voxel[397450]=(unsigned char)1;
  voxel[397451]=(unsigned char)1;
  voxel[397651]=(unsigned char)1;
  voxel[416250]=(unsigned char)1;
  voxel[436250]=(unsigned char)1;
  voxel[436251]=(unsigned char)1;
  voxel[436850]=(unsigned char)1;
  voxel[455850]=(unsigned char)1;
  voxel[456047]=(unsigned char)1;
  voxel[456050]=(unsigned char)1;
  voxel[456051]=(unsigned char)1;
  voxel[456246]=(unsigned char)1;
  voxel[456247]=(unsigned char)1;
  voxel[456250]=(unsigned char)1;
  voxel[456251]=(unsigned char)1;
  voxel[456452]=(unsigned char)1;
  voxel[456650]=(unsigned char)1;
  voxel[456651]=(unsigned char)1;
  voxel[456850]=(unsigned char)1;
  voxel[456851]=(unsigned char)1;
  voxel[475650]=(unsigned char)1;
  voxel[475848]=(unsigned char)1;
  voxel[475849]=(unsigned char)1;
  voxel[475850]=(unsigned char)1;
  voxel[475851]=(unsigned char)1;
  voxel[476047]=(unsigned char)1;
  voxel[476048]=(unsigned char)1;
  voxel[476049]=(unsigned char)1;
  voxel[476050]=(unsigned char)1;
  voxel[476051]=(unsigned char)1;
  voxel[476052]=(unsigned char)1;
  voxel[476247]=(unsigned char)1;
  voxel[476249]=(unsigned char)1;
  voxel[476251]=(unsigned char)1;
  voxel[476252]=(unsigned char)1;
  voxel[476450]=(unsigned char)1;
  voxel[476452]=(unsigned char)1;
  voxel[476851]=(unsigned char)1;
  voxel[495649]=(unsigned char)1;
  voxel[495650]=(unsigned char)1;
  voxel[495651]=(unsigned char)1;
  voxel[495652]=(unsigned char)1;
  voxel[495848]=(unsigned char)1;
  voxel[495849]=(unsigned char)1;
  voxel[495851]=(unsigned char)1;
  voxel[495852]=(unsigned char)1;
  voxel[495853]=(unsigned char)1;
  voxel[496050]=(unsigned char)1;
  voxel[496051]=(unsigned char)1;
  voxel[496052]=(unsigned char)1;
  voxel[496053]=(unsigned char)1;
  voxel[496252]=(unsigned char)1;
  voxel[515651]=(unsigned char)1;
  voxel[515653]=(unsigned char)1;
  voxel[515852]=(unsigned char)1;
  voxel[515853]=(unsigned char)1;
  voxel[516052]=(unsigned char)1;
  voxel[535253]=(unsigned char)1;
  voxel[535454]=(unsigned char)1;
  voxel[535652]=(unsigned char)1;
  voxel[535653]=(unsigned char)1;
  voxel[535853]=(unsigned char)1;
  voxel[555454]=(unsigned char)1;
  voxel[555653]=(unsigned char)1;
  voxel[555654]=(unsigned char)1;
  voxel[675455]=(unsigned char)1;
  voxel[675856]=(unsigned char)1;
  voxel[676255]=(unsigned char)1;
  voxel[676456]=(unsigned char)1;
  voxel[694258]=(unsigned char)1;
  voxel[694259]=(unsigned char)1;
  voxel[694260]=(unsigned char)1;
  voxel[694458]=(unsigned char)1;
  voxel[694459]=(unsigned char)1;
  voxel[694460]=(unsigned char)1;
  voxel[694659]=(unsigned char)1;
  voxel[694660]=(unsigned char)1;
  voxel[694662]=(unsigned char)1;
  voxel[694664]=(unsigned char)1;
  voxel[694864]=(unsigned char)1;
  voxel[695064]=(unsigned char)1;
  voxel[695254]=(unsigned char)1;
  voxel[695455]=(unsigned char)1;
  voxel[695654]=(unsigned char)1;
  voxel[695655]=(unsigned char)1;
  voxel[695656]=(unsigned char)1;
  voxel[695855]=(unsigned char)1;
  voxel[695858]=(unsigned char)1;
  voxel[695859]=(unsigned char)1;
  voxel[696055]=(unsigned char)1;
  voxel[696056]=(unsigned char)1;
  voxel[696059]=(unsigned char)1;
  voxel[696256]=(unsigned char)1;
  voxel[714058]=(unsigned char)1;
  voxel[714256]=(unsigned char)1;
  voxel[714257]=(unsigned char)1;
  voxel[714258]=(unsigned char)1;
  voxel[714259]=(unsigned char)1;
  voxel[714459]=(unsigned char)1;
  voxel[714461]=(unsigned char)1;
  voxel[714462]=(unsigned char)1;
  voxel[714660]=(unsigned char)1;
  voxel[714661]=(unsigned char)1;
  voxel[714662]=(unsigned char)1;
  voxel[714856]=(unsigned char)1;
  voxel[714861]=(unsigned char)1;
  voxel[714862]=(unsigned char)1;
  voxel[714863]=(unsigned char)1;
  voxel[714864]=(unsigned char)1;
  voxel[715055]=(unsigned char)1;
  voxel[715064]=(unsigned char)1;
  voxel[715255]=(unsigned char)1;
  voxel[715256]=(unsigned char)1;
  voxel[715257]=(unsigned char)1;
  voxel[715258]=(unsigned char)1;
  voxel[715264]=(unsigned char)1;
  voxel[715455]=(unsigned char)1;
  voxel[715456]=(unsigned char)1;
  voxel[715458]=(unsigned char)1;
  voxel[715459]=(unsigned char)1;
  voxel[715655]=(unsigned char)1;
  voxel[715657]=(unsigned char)1;
  voxel[715658]=(unsigned char)1;
  voxel[715659]=(unsigned char)1;
  voxel[715854]=(unsigned char)1;
  voxel[715856]=(unsigned char)1;
  voxel[715858]=(unsigned char)1;
  voxel[733857]=(unsigned char)1;
  voxel[733858]=(unsigned char)1;
  voxel[734057]=(unsigned char)1;
  voxel[734257]=(unsigned char)1;
  voxel[734656]=(unsigned char)1;
  voxel[734657]=(unsigned char)1;
  voxel[734664]=(unsigned char)1;
  voxel[734854]=(unsigned char)1;
  voxel[734855]=(unsigned char)1;
  voxel[734856]=(unsigned char)1;
  voxel[734857]=(unsigned char)1;
  voxel[734858]=(unsigned char)1;
  voxel[735055]=(unsigned char)1;
  voxel[735056]=(unsigned char)1;
  voxel[735057]=(unsigned char)1;
  voxel[753657]=(unsigned char)1;
  voxel[753858]=(unsigned char)1;
  voxel[754257]=(unsigned char)1;
  voxel[754455]=(unsigned char)1;
  voxel[754456]=(unsigned char)1;
  voxel[754457]=(unsigned char)1;
  voxel[754458]=(unsigned char)1;
  voxel[754656]=(unsigned char)1;
  voxel[754657]=(unsigned char)1;
  voxel[754658]=(unsigned char)1;
  voxel[754856]=(unsigned char)1;
  voxel[754858]=(unsigned char)1;
  voxel[755056]=(unsigned char)1;
  voxel[773458]=(unsigned char)1;
  voxel[773657]=(unsigned char)1;
  voxel[773658]=(unsigned char)1;
  voxel[774055]=(unsigned char)1;
  voxel[774058]=(unsigned char)1;
  voxel[774256]=(unsigned char)1;
  voxel[774257]=(unsigned char)1;
  voxel[774258]=(unsigned char)1;
  voxel[774455]=(unsigned char)1;
  voxel[774456]=(unsigned char)1;
  voxel[774457]=(unsigned char)1;
  voxel[774458]=(unsigned char)1;
  voxel[774656]=(unsigned char)1;
  voxel[793457]=(unsigned char)1;
  voxel[793458]=(unsigned char)1;
  voxel[793459]=(unsigned char)1;
  voxel[793656]=(unsigned char)1;
  voxel[793657]=(unsigned char)1;
  voxel[793658]=(unsigned char)1;
  voxel[793659]=(unsigned char)1;
  voxel[793856]=(unsigned char)1;
  voxel[793858]=(unsigned char)1;
  voxel[794057]=(unsigned char)1;
  voxel[794058]=(unsigned char)1;
  voxel[794059]=(unsigned char)1;
  voxel[794257]=(unsigned char)1;
  voxel[813058]=(unsigned char)1;
  voxel[813059]=(unsigned char)1;
  voxel[813060]=(unsigned char)1;
  voxel[813258]=(unsigned char)1;
  voxel[813259]=(unsigned char)1;
  voxel[813456]=(unsigned char)1;
  voxel[813457]=(unsigned char)1;
  voxel[813458]=(unsigned char)1;
  voxel[813459]=(unsigned char)1;
  voxel[813460]=(unsigned char)1;
  voxel[813656]=(unsigned char)1;
  voxel[813658]=(unsigned char)1;
  voxel[813659]=(unsigned char)1;
  voxel[813857]=(unsigned char)1;
  voxel[813859]=(unsigned char)1;
  voxel[814058]=(unsigned char)1;
  voxel[832861]=(unsigned char)1;
  voxel[833058]=(unsigned char)1;
  voxel[833059]=(unsigned char)1;
  voxel[833060]=(unsigned char)1;
  voxel[833061]=(unsigned char)1;
  voxel[833259]=(unsigned char)1;
  voxel[833260]=(unsigned char)1;
  voxel[833459]=(unsigned char)1;
  voxel[852660]=(unsigned char)1;
  voxel[852661]=(unsigned char)1;
  voxel[852662]=(unsigned char)1;
  voxel[852860]=(unsigned char)1;
  voxel[852861]=(unsigned char)1;
  voxel[853059]=(unsigned char)1;
  voxel[853060]=(unsigned char)1;
  voxel[853061]=(unsigned char)1;
  voxel[872262]=(unsigned char)1;
  voxel[872459]=(unsigned char)1;
  voxel[872460]=(unsigned char)1;
  voxel[872461]=(unsigned char)1;
  voxel[872462]=(unsigned char)1;
  voxel[872660]=(unsigned char)1;
  voxel[872661]=(unsigned char)1;
  voxel[872662]=(unsigned char)1;
  voxel[872663]=(unsigned char)1;
  voxel[872859]=(unsigned char)1;
  voxel[872860]=(unsigned char)1;
  voxel[872861]=(unsigned char)1;
  voxel[872862]=(unsigned char)1;
  voxel[873059]=(unsigned char)1;
  voxel[873060]=(unsigned char)1;
  voxel[873061]=(unsigned char)1;
  voxel[873062]=(unsigned char)1;
  voxel[873063]=(unsigned char)1;
  voxel[873260]=(unsigned char)1;
  voxel[873261]=(unsigned char)1;
  voxel[873262]=(unsigned char)1;
  voxel[873459]=(unsigned char)1;
  voxel[873460]=(unsigned char)1;
  voxel[873461]=(unsigned char)1;
  voxel[873462]=(unsigned char)1;
  voxel[873660]=(unsigned char)1;
  voxel[873661]=(unsigned char)1;
  voxel[873859]=(unsigned char)1;
  voxel[873860]=(unsigned char)1;
  voxel[892063]=(unsigned char)1;
  voxel[892064]=(unsigned char)1;
  voxel[892260]=(unsigned char)1;
  voxel[892261]=(unsigned char)1;
  voxel[892262]=(unsigned char)1;
  voxel[892263]=(unsigned char)1;
  voxel[892264]=(unsigned char)1;
  voxel[892460]=(unsigned char)1;
  voxel[892461]=(unsigned char)1;
  voxel[892462]=(unsigned char)1;
  voxel[892463]=(unsigned char)1;
  voxel[892659]=(unsigned char)1;
  voxel[892661]=(unsigned char)1;
  voxel[892663]=(unsigned char)1;
  voxel[892664]=(unsigned char)1;
  voxel[892862]=(unsigned char)1;
  voxel[893063]=(unsigned char)1;
  voxel[893259]=(unsigned char)1;
  voxel[893260]=(unsigned char)1;
  voxel[893457]=(unsigned char)1;
  voxel[893459]=(unsigned char)1;
  voxel[893460]=(unsigned char)1;
  voxel[893461]=(unsigned char)1;
  voxel[893462]=(unsigned char)1;
  voxel[893463]=(unsigned char)1;
  voxel[893659]=(unsigned char)1;
  voxel[893660]=(unsigned char)1;
  voxel[893661]=(unsigned char)1;
  voxel[893662]=(unsigned char)1;
  voxel[893857]=(unsigned char)1;
  voxel[893859]=(unsigned char)1;
  voxel[894463]=(unsigned char)1;
  voxel[894464]=(unsigned char)1;
  voxel[894864]=(unsigned char)1;
  voxel[911463]=(unsigned char)1;
  voxel[911663]=(unsigned char)1;
  voxel[911664]=(unsigned char)1;
  voxel[911862]=(unsigned char)1;
  voxel[911863]=(unsigned char)1;
  voxel[911864]=(unsigned char)1;
  voxel[912062]=(unsigned char)1;
  voxel[912063]=(unsigned char)1;
  voxel[912064]=(unsigned char)1;
  voxel[912264]=(unsigned char)1;
  voxel[912462]=(unsigned char)1;
  voxel[912463]=(unsigned char)1;
  voxel[912464]=(unsigned char)1;
  voxel[912664]=(unsigned char)1;
  voxel[913657]=(unsigned char)1;
  voxel[913856]=(unsigned char)1;
  voxel[913857]=(unsigned char)1;
  voxel[913858]=(unsigned char)1;
  voxel[914262]=(unsigned char)1;
  voxel[914264]=(unsigned char)1;
  voxel[914462]=(unsigned char)1;
  voxel[914463]=(unsigned char)1;
  voxel[914662]=(unsigned char)1;
  voxel[914663]=(unsigned char)1;
  voxel[914664]=(unsigned char)1;
  voxel[914864]=(unsigned char)1;
  voxel[931464]=(unsigned char)1;
  voxel[931465]=(unsigned char)1;
  voxel[931466]=(unsigned char)1;
  voxel[931662]=(unsigned char)1;
  voxel[931663]=(unsigned char)1;
  voxel[931664]=(unsigned char)1;
  voxel[931665]=(unsigned char)1;
  voxel[931666]=(unsigned char)1;
  voxel[931862]=(unsigned char)1;
  voxel[931863]=(unsigned char)1;
  voxel[931864]=(unsigned char)1;
  voxel[931865]=(unsigned char)1;
  voxel[931866]=(unsigned char)1;
  voxel[932062]=(unsigned char)1;
  voxel[932063]=(unsigned char)1;
  voxel[932064]=(unsigned char)1;
  voxel[951266]=(unsigned char)1;
  voxel[951465]=(unsigned char)1;
  voxel[951466]=(unsigned char)1;
  voxel[951467]=(unsigned char)1;
  voxel[951665]=(unsigned char)1;
  voxel[951666]=(unsigned char)1;
  voxel[1148676]=(unsigned char)1;
  voxel[1148875]=(unsigned char)1;
  voxel[1149075]=(unsigned char)1;
  voxel[1149076]=(unsigned char)1;
  voxel[1149275]=(unsigned char)1;
  voxel[1167879]=(unsigned char)1;
  voxel[1167880]=(unsigned char)1;
  voxel[1168077]=(unsigned char)1;
  voxel[1168276]=(unsigned char)1;
  voxel[1168277]=(unsigned char)1;
  voxel[1168278]=(unsigned char)1;
  voxel[1168279]=(unsigned char)1;
  voxel[1168476]=(unsigned char)1;
  voxel[1168477]=(unsigned char)1;
  voxel[1168479]=(unsigned char)1;
  voxel[1168676]=(unsigned char)1;
  voxel[1168679]=(unsigned char)1;
  voxel[1187481]=(unsigned char)1;
  voxel[1187680]=(unsigned char)1;
  voxel[1187879]=(unsigned char)1;
  voxel[1187880]=(unsigned char)1;
  voxel[1187881]=(unsigned char)1;
  voxel[1188076]=(unsigned char)1;
  voxel[1188077]=(unsigned char)1;
  voxel[1188078]=(unsigned char)1;
  voxel[1188079]=(unsigned char)1;
  voxel[1188080]=(unsigned char)1;
  voxel[1188275]=(unsigned char)1;
  voxel[1188277]=(unsigned char)1;
  voxel[1188278]=(unsigned char)1;
  voxel[1188478]=(unsigned char)1;
  voxel[1188480]=(unsigned char)1;
  voxel[1207282]=(unsigned char)1;
  voxel[1207480]=(unsigned char)1;
  voxel[1207481]=(unsigned char)1;
  voxel[1207482]=(unsigned char)1;
  voxel[1207681]=(unsigned char)1;
  voxel[1227083]=(unsigned char)1;
  voxel[1227283]=(unsigned char)1;
  voxel[1246883]=(unsigned char)1;
  voxel[1246884]=(unsigned char)1;
  voxel[1247083]=(unsigned char)1;
  voxel[1247084]=(unsigned char)1;
  voxel[1266485]=(unsigned char)1;
  voxel[1266685]=(unsigned char)1;
  voxel[1266883]=(unsigned char)1;
  voxel[1266884]=(unsigned char)1;
  voxel[1266885]=(unsigned char)1;
  voxel[1286286]=(unsigned char)1;
  voxel[1286287]=(unsigned char)1;
  voxel[1286485]=(unsigned char)1;
  voxel[1286486]=(unsigned char)1;
  voxel[1286685]=(unsigned char)1;
  voxel[1286686]=(unsigned char)1;
  voxel[1286885]=(unsigned char)1;
  voxel[1306087]=(unsigned char)1;
  voxel[1306088]=(unsigned char)1;
  voxel[1306285]=(unsigned char)1;
  voxel[1306286]=(unsigned char)1;
  voxel[1306287]=(unsigned char)1;
  voxel[1325490]=(unsigned char)1;
  voxel[1325689]=(unsigned char)1;
  voxel[1325887]=(unsigned char)1;
  voxel[1325888]=(unsigned char)1;
  voxel[1326088]=(unsigned char)1;
  voxel[1345489]=(unsigned char)1;
  voxel[1345689]=(unsigned char)1;
  voxel[1345690]=(unsigned char)1;
  voxel[1345889]=(unsigned char)1;
  voxel[1365289]=(unsigned char)1;
  voxel[1365290]=(unsigned char)1;
  voxel[1365291]=(unsigned char)1;
  voxel[1365490]=(unsigned char)1;
  voxel[1365491]=(unsigned char)1;
  voxel[1385291]=(unsigned char)1;
  voxel[1385292]=(unsigned char)1;
  voxel[1464894]=(unsigned char)1;
  voxel[1484894]=(unsigned char)1;
  voxel[1484895]=(unsigned char)1;
  voxel[1504694]=(unsigned char)1;
  voxel[1504695]=(unsigned char)1;
  voxel[1504895]=(unsigned char)1;
  voxel[1524695]=(unsigned char)1;
  voxel[1524895]=(unsigned char)1;
  voxel[1544695]=(unsigned char)1;
  voxel[1544895]=(unsigned char)1;
  voxel[1564895]=(unsigned char)1;
  voxel[1564896]=(unsigned char)1;
  voxel[1584895]=(unsigned char)1;
  voxel[1584896]=(unsigned char)1;
  voxel[1604895]=(unsigned char)1;
  voxel[1604896]=(unsigned char)1;
  voxel[1605095]=(unsigned char)1;
  voxel[1605096]=(unsigned char)1;
  voxel[1624896]=(unsigned char)1;
  voxel[1625096]=(unsigned char)1;
  voxel[1645095]=(unsigned char)1;
  voxel[1645096]=(unsigned char)1;
  voxel[1645097]=(unsigned char)1;
  voxel[1665096]=(unsigned char)1;
  voxel[1665097]=(unsigned char)1;
  voxel[1684896]=(unsigned char)1;
  voxel[1684897]=(unsigned char)1;
  voxel[1685097]=(unsigned char)1;
  voxel[1705096]=(unsigned char)1;
  voxel[1705097]=(unsigned char)1;
  voxel[1725096]=(unsigned char)1;
  voxel[1725097]=(unsigned char)1;
  voxel[1745097]=(unsigned char)1;
  voxel[1745098]=(unsigned char)1;
  voxel[1765097]=(unsigned char)1;
  voxel[1765098]=(unsigned char)1;
  voxel[1785097]=(unsigned char)1;
  voxel[1785098]=(unsigned char)1;
  voxel[1785297]=(unsigned char)1;
  voxel[1785299]=(unsigned char)1;
  voxel[1805097]=(unsigned char)1;
  voxel[1805297]=(unsigned char)1;
  voxel[1805298]=(unsigned char)1;
  voxel[1825298]=(unsigned char)1;
  voxel[1845298]=(unsigned char)1;
  voxel[1845299]=(unsigned char)1;
  voxel[1865098]=(unsigned char)1;
  voxel[1865298]=(unsigned char)1;
  voxel[1865299]=(unsigned char)1;
  voxel[1885098]=(unsigned char)1;
  voxel[1885298]=(unsigned char)1;
  voxel[1885299]=(unsigned char)1;
  voxel[1885300]=(unsigned char)1;
  voxel[1905298]=(unsigned char)1;
  voxel[1905299]=(unsigned char)1;
  voxel[1925299]=(unsigned char)1;
  voxel[1925300]=(unsigned char)1;
  voxel[1925499]=(unsigned char)1;
  voxel[1945299]=(unsigned char)1;
  voxel[1945500]=(unsigned char)1;
  voxel[1965299]=(unsigned char)1;
  voxel[1965500]=(unsigned char)1;
  voxel[1985500]=(unsigned char)1;
  voxel[1985501]=(unsigned char)1;
  voxel[2005500]=(unsigned char)1;
  voxel[2025300]=(unsigned char)1;
  voxel[2065501]=(unsigned char)1;
  voxel[2105501]=(unsigned char)1;
  voxel[2125702]=(unsigned char)1;
  voxel[2145702]=(unsigned char)1;
  voxel[2145703]=(unsigned char)1;
  voxel[2325506]=(unsigned char)1;
  voxel[2345506]=(unsigned char)1;
  voxel[2385507]=(unsigned char)1;
  voxel[2405508]=(unsigned char)1;
  //



  llcv::VThinning vt;
  TStopwatch watch;
  watch.Stop();

  watch.Start();
  vt.Execute(voxel,200,100,200,&res_v);
  watch.Stop();
  
  std::cout << watch.RealTime() << std::endl;

  std::cout << "[";
    for (auto res : res_v)
      std::cout << res.m_comp[0] << ",";
  std::cout << "]" << std::endl;

  std::cout << "[";
    for (auto res : res_v)
      std::cout << res.m_comp[1] << ",";
  std::cout << "]" << std::endl;

  std::cout << "[";
    for (auto res : res_v)
      std::cout << res.m_comp[2] << ",";
  std::cout << "]" << std::endl;

  return 0;
}
